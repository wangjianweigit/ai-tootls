{
  "template_name": "医疗病例记录解析规则模板",
  "description": "用于解析医疗病例记录的标准规则配置，包含患者基本信息、症状、病史、体征数据和用药信息的提取",
  "version": "1.0",
  "created_date": "2024-10-15",
  "recommended_settings": {
    "threads": 2,
    "checkpoint_every": 50,
    "index_column": "病例编号"
  },
  "rules": [
    {
      "rule_name": "规则1-提取患者基本信息",
      "source_column": "病例记录",
      "target_columns": ["患者姓名", "性别", "年龄", "就诊日期"],
      "prompt": "请从病例记录中提取以下基本信息：\n1. 患者姓名：患者的完整姓名（通常在"患者"二字后面）\n2. 性别：男性或女性，统一输出为"男"或"女"\n3. 年龄：患者的年龄数字，只输出数字，不包含"岁"字\n4. 就诊日期：就诊的完整日期，保持原格式（如：2024年03月15日）\n\n注意：\n- 年龄必须是纯数字\n- 性别只能是"男"或"女"\n- 如果找不到某个字段，请输出空字符串"
    },
    {
      "rule_name": "规则2-提取症状信息",
      "source_column": "病例记录",
      "target_columns": ["主诉症状", "症状持续天数"],
      "prompt": "请从病例记录中提取症状相关信息：\n1. 主诉症状：患者的主要症状列表，保留原文的症状描述，多个症状用顿号"、"分隔\n2. 症状持续天数：症状已经持续的天数，只输出数字\n\n注意：\n- 症状通常在"主诉："后面\n- 持续天数通常表述为"已X天"\n- 症状持续天数必须是纯数字"
    },
    {
      "rule_name": "规则3-提取既往病史",
      "source_column": "病例记录",
      "target_columns": ["既往病史"],
      "prompt": "请从病例记录中提取既往病史信息：\n- 既往病史：患者的既往疾病史，多个疾病用顿号"、"分隔\n\n注意：\n- 既往病史通常在"既往史："后面\n- 如果记录为"无"或"无特殊"，请输出"无"\n- 保持原文的疾病名称"
    },
    {
      "rule_name": "规则4-提取体格检查数据",
      "source_column": "病例记录",
      "target_columns": ["体温", "收缩压", "舒张压", "心率"],
      "prompt": "请从病例记录中提取体格检查的生理指标数据：\n1. 体温：体温数值（℃），只输出数字，保留一位小数\n2. 收缩压：血压的高压值（mmHg），只输出数字\n3. 舒张压：血压的低压值（mmHg），只输出数字\n4. 心率：心率数值（次/分），只输出数字\n\n注意：\n- 体格检查数据通常在"体格检查："后面\n- 血压格式通常为"XXX/XXX mmHg"，前者是收缩压，后者是舒张压\n- 所有数值必须是纯数字（体温可以有小数点）"
    },
    {
      "rule_name": "规则5-提取处方用药",
      "source_column": "病例记录",
      "target_columns": ["处方用药"],
      "prompt": "请从病例记录中提取处方用药信息：\n- 处方用药：医生开具的药物列表，多个药物用顿号"、"分隔\n\n注意：\n- 处方用药通常在"处方用药："后面\n- 提取所有药物名称，去除"等"、"按医嘱服用"等非药物文字\n- 保持原文的药物名称"
    }
  ],
  "expected_output_columns": [
    "病例编号",
    "病例记录",
    "患者姓名",
    "性别",
    "年龄",
    "就诊日期",
    "主诉症状",
    "症状持续天数",
    "既往病史",
    "体温",
    "收缩压",
    "舒张压",
    "心率",
    "处方用药"
  ],
  "quality_check": {
    "validation_rules": [
      {
        "field": "性别",
        "rule": "值必须是'男'或'女'"
      },
      {
        "field": "年龄",
        "rule": "必须是0-150之间的数字"
      },
      {
        "field": "体温",
        "rule": "必须是35.0-42.0之间的数字"
      },
      {
        "field": "收缩压",
        "rule": "必须是60-250之间的数字"
      },
      {
        "field": "舒张压",
        "rule": "必须是40-150之间的数字"
      },
      {
        "field": "心率",
        "rule": "必须是40-200之间的数字"
      }
    ],
    "recommended_accuracy": ">95%",
    "recommended_completeness": ">98%"
  },
  "usage_notes": [
    "1. 本模板适用于标准的医疗病例记录格式",
    "2. 如果你的数据格式不同，请相应调整提示词",
    "3. 建议先用小批量数据测试规则，确认准确后再处理大批量数据",
    "4. 处理敏感医疗数据时请注意脱敏和隐私保护",
    "5. 提取结果建议进行人工抽检验证"
  ]
}

